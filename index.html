<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web:300" rel="stylesheet">
    <meta property="og:description" content="JEDIS - Redis-like javascript library." />
    <meta property="og:title" content="JEDIS" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-barstyle" content="black-translucent">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon-152x152.png">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="shortcut icon" sizes="196x196" href="icons/favicon-196x196.png">
    <meta name="theme-color" content="#373a3c" />

    <style media="screen" type="text/css">

    body {
      font-family: 'Titillium Web', 'Lato', -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
    }
    h1, h2, h3, p {
      font-family: 'Titillium Web', 'Lato', -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
    }
    footer h2, section h2 {
      font-size: 2rem;
      border-bottom: 1px solid black;
    }
    section section h2 {
      font-size: 1.75rem;
      border-bottom: none;
    }
    section section section h2{
      font-size: 1.5rem;
    }

    section {
      padding-top: 1.5rem!important;
      padding-bottom: 0.75rem!important;
    }

    section section {
      padding-top: 0rem!important;
      padding-bottom: 0.5rem!important;
    }

    section section section {
      padding-top: 0rem!important;
      padding-bottom: 0.25rem!important;
    }

    section p {
      margin-bottom: 0.25rem;
    }

    #jedis-header p {
      margin: 1rem 0;
    }

    </style>
    <!--
      Notice the use of %PUBLIC_URL% in the tag above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>Jedis!</title>
  </head>
  <body>

    <div class="container">
      <div class="row">
        <div class="col-xs-12 text-xs-center">
          <h1 class="display-2 hidden-sm-down">Jedis Test Results</h1>
          <h1 class="hidden-md-up">Jedis Test Result</h1>
        </div>
      </div>
      <div class="row">
        <header class="col-xs-12 col-lg-8 offset-lg-2 alert-info" id="jedis-header"></header>
      </div>
      <div class="row">
        <main class="col-xs-12  col-lg-8 offset-lg-2" id="jedis-output"></main>
      </div>
      <div class="row">
        <footer class="col-xs-12 col-lg-8 offset-lg-2" >
          <h2>Passing Commands</h2>
          <div id="jedis-footer">
          </div>
        </footer>
      </div>
    </div>

    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start`.
      To create a production bundle, use `npm run build`.
    -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js" integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js" integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK" crossorigin="anonymous"></script>
    <script src="lib/jedis.js" ></script>
    <script src="lib/jedis-test.js"></script>
    <script>
      var checkJedis = function(){
        new JedisTest().go();
      };
      var lastModifiedJedis = new Date();
      var lastModifiedJedisTest = new Date();
      var checkUpdates = function(){
        $.ajax('lib/jedis.js',{cache: false, method: "HEAD"}).done(function(data,status,req){
          var lastModified = req.getResponseHeader('Last-Modified');
          var lastModifiedDate = new Date(lastModified);
          var timeDiff = (lastModifiedDate - lastModifiedJedis);
          if(timeDiff > 0){
            location = location;
          }
        });
        $.ajax('lib/jedis-test.js',{cache: false, method: "HEAD"}).done(function(data,status,req){
          var lastModified = req.getResponseHeader('Last-Modified');
          var lastModifiedDate = new Date(lastModified);
          var timeDiff = (lastModifiedDate - lastModifiedJedisTest);
          if(timeDiff > 0){
            location = location;
          }
        });
      }
      $(function(){
        setTimeout(checkJedis, 100);
        setInterval(checkUpdates, 1000);
      });
    </script>
  </body>
</html>
